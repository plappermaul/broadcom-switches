/** \file algo/swstate/auto_generated/diagnostic/ecmp_diagnostic.c
 *
 * sw state functions definitions
 *
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 */
/*
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2020 Broadcom Inc. All rights reserved.
 */

#ifdef BSL_LOG_MODULE
#error "BSL_LOG_MODULE redefined"
#endif
#define BSL_LOG_MODULE BSL_LS_SWSTATEDNX_GENERAL

#include <soc/dnxc/swstate/dnxc_sw_state_c_includes.h>
#include <bcm_int/dnx/algo/swstate/auto_generated/diagnostic/ecmp_diagnostic.h>
#include <soc/dnx/dnx_data/auto_generated/dnx_data_l3.h>
#include <soc/dnx/dnx_data/auto_generated/dnx_data_mdb.h>
#if defined(DNX_SW_STATE_DIAGNOSTIC)
/*
 * Global Variables
 */

extern ecmp_sw_db_info_t * ecmp_db_info_data[SOC_MAX_NUM_DEVICES];
/*
 * FUNCTIONs
 */

/*
 *
 * dump function for the variable ecmp_db_info
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_dump(int  unit,  dnx_sw_state_dump_filters_t  filters)
{
    DNXC_SW_STATE_INIT_FUNC_DEFS;
    SHR_IF_ERR_EXIT(ecmp_db_info_members_tbl_addr_profile_link_lists_dump(unit, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_consistent_hashing_manager_handle_dump(unit, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_res_manager_dump(unit, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_extended_res_manager_dump(unit, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_hierarchy_dump(unit, -1, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_nof_used_elements_per_grain_dump(unit, -1, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_fec_members_table_dump(unit, -1, -1, filters));
    SHR_IF_ERR_EXIT(ecmp_db_info_ecmp_group_size_minus_one_dump(unit, -1, -1, filters));
    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable members_tbl_addr_profile_link_lists
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_members_tbl_addr_profile_link_lists_dump(int  unit,  dnx_sw_state_dump_filters_t  filters)
{
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "sw_state_multihead_ll_t") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp members_tbl_addr_profile_link_lists") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp members_tbl_addr_profile_link_lists\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/members_tbl_addr_profile_link_lists.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","members_tbl_addr_profile_link_lists: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_PRINT_MONITOR(
            unit,
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","members_tbl_addr_profile_link_lists: ");

        DNX_SW_STATE_PRINT_FILE(
            unit,
            " ");

        SW_STATE_LL_DEFAULT_PRINT(
            unit,
            &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->members_tbl_addr_profile_link_lists);

        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable consistent_hashing_manager_handle
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_consistent_hashing_manager_handle_dump(int  unit,  dnx_sw_state_dump_filters_t  filters)
{
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "uint32") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp consistent_hashing_manager_handle") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp consistent_hashing_manager_handle\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/consistent_hashing_manager_handle.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","consistent_hashing_manager_handle: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_PRINT_MONITOR(
            unit,
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","consistent_hashing_manager_handle: ");

        DNX_SW_STATE_PRINT_FILE(
            unit,
            " ");

        dnx_sw_state_print_uint32(
            unit,
            &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->consistent_hashing_manager_handle);

        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_res_manager
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_res_manager_dump(int  unit,  dnx_sw_state_dump_filters_t  filters)
{
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "dnx_algo_res_t") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_res_manager") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_res_manager\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_res_manager.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_res_manager: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_PRINT_MONITOR(
            unit,
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_res_manager: ");

        DNX_SW_STATE_PRINT_FILE(
            unit,
            " ");

        DNX_ALGO_RES_MNGR_PRINT(
            unit,
            ECMP_MODULE_ID,
            &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_res_manager);

        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_extended_res_manager
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_extended_res_manager_dump(int  unit,  dnx_sw_state_dump_filters_t  filters)
{
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "dnx_algo_res_t") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_extended_res_manager") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_extended_res_manager\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_extended_res_manager.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_extended_res_manager: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_PRINT_MONITOR(
            unit,
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_extended_res_manager: ");

        DNX_SW_STATE_PRINT_FILE(
            unit,
            " ");

        DNX_ALGO_RES_MNGR_PRINT(
            unit,
            ECMP_MODULE_ID,
            &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_extended_res_manager);

        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_hierarchy
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_hierarchy_dump(int  unit,  int  ecmp_hierarchy_idx_0,  dnx_sw_state_dump_filters_t  filters)
{
    int i0 = ecmp_hierarchy_idx_0, I0 = ecmp_hierarchy_idx_0 + 1;
    char *s0 = "";
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "uint32") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_hierarchy") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_hierarchy\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_hierarchy.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_hierarchy[]: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        if (i0 == -1) {
            I0 = 20;
            i0 = dnx_sw_state_dump_check_all_the_same(unit,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_hierarchy
                , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_hierarchy), I0, &s0) ? I0 - 1 : 0;
        }

        if(i0 >= 20)
        {
            LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_hierarchy[]: ")));
            LOG_CLI((BSL_META("Invalid index: %d \n"),i0));
            SHR_EXIT();
        }

        if(20 == 0)
        {
            SHR_EXIT();
        }

        for(; i0 < I0; i0++) {
            dnx_sw_state_dump_update_current_idx(unit, i0);
            DNX_SW_STATE_PRINT_MONITOR(
                unit,
                "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_hierarchy[%s%d]: ", s0, i0);

            DNX_SW_STATE_PRINT_FILE(
                unit,
                "[%s%d]: ", s0, i0);

            dnx_sw_state_print_uint32(
                unit,
                &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_hierarchy[i0]);

        }
        dnx_sw_state_dump_end_of_stride(unit);
        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_nof_used_elements_per_grain
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_nof_used_elements_per_grain_dump(int  unit,  int  ecmp_nof_used_elements_per_grain_idx_0,  dnx_sw_state_dump_filters_t  filters)
{
    int i0 = ecmp_nof_used_elements_per_grain_idx_0, I0 = ecmp_nof_used_elements_per_grain_idx_0 + 1;
    char *s0 = "";
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "uint32") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_nof_used_elements_per_grain") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_nof_used_elements_per_grain\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_nof_used_elements_per_grain.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_nof_used_elements_per_grain[]: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        if (i0 == -1) {
            I0 = 20;
            i0 = dnx_sw_state_dump_check_all_the_same(unit,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_nof_used_elements_per_grain
                , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_nof_used_elements_per_grain), I0, &s0) ? I0 - 1 : 0;
        }

        if(i0 >= 20)
        {
            LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_nof_used_elements_per_grain[]: ")));
            LOG_CLI((BSL_META("Invalid index: %d \n"),i0));
            SHR_EXIT();
        }

        if(20 == 0)
        {
            SHR_EXIT();
        }

        for(; i0 < I0; i0++) {
            dnx_sw_state_dump_update_current_idx(unit, i0);
            DNX_SW_STATE_PRINT_MONITOR(
                unit,
                "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_nof_used_elements_per_grain[%s%d]: ", s0, i0);

            DNX_SW_STATE_PRINT_FILE(
                unit,
                "[%s%d]: ", s0, i0);

            dnx_sw_state_print_uint32(
                unit,
                &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_nof_used_elements_per_grain[i0]);

        }
        dnx_sw_state_dump_end_of_stride(unit);
        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_fec_members_table
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_fec_members_table_dump(int  unit,  int  ecmp_fec_members_table_idx_0,  int  ecmp_fec_members_table_idx_1,  dnx_sw_state_dump_filters_t  filters)
{
    int i0 = ecmp_fec_members_table_idx_0, I0 = ecmp_fec_members_table_idx_0 + 1;
    int i1 = ecmp_fec_members_table_idx_1, I1 = ecmp_fec_members_table_idx_1 + 1, org_i1 = ecmp_fec_members_table_idx_1;
    char *s0 = "", *s1 = "";
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "uint8") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_fec_members_table") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_fec_members_table\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_fec_members_table.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_fec_members_table[][]: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table);

        if (i0 == -1) {
            I0 = dnx_sw_state_get_nof_elements(unit,
                ECMP_MODULE_ID,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table);
            i0 = dnx_sw_state_dump_check_all_the_same(unit,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table
                , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table), I0, &s0) ? I0 - 1 : 0;
        }

        if(i0 >= dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table))
        {
            LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_fec_members_table[][]: ")));
            LOG_CLI((BSL_META("Invalid index: %d \n"),i0));
            SHR_EXIT();
        }

        if(dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table) == 0)
        {
            SHR_EXIT();
        }

        for(; i0 < I0; i0++) {
            /*coverity explanation: coverity has detected an out of bound read, due to i0 being incremented;
            However, we have a check if i0 > the end condition of the loop. If the check catches that i0 has
            reached the value of the end condition, we exit the function.
            What coverity is catching is the last increment of i0 before the loop ends. */
            /* coverity[overrun-local:FALSE] */
                DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
                    unit,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]);

            if (i1 == -1) {
                I1 = dnx_sw_state_get_nof_elements(unit,
                    ECMP_MODULE_ID,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]);
                i1 = dnx_sw_state_dump_check_all_the_same(unit,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]
                    , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]), I1, &s1) ? I1 - 1 : 0;
            }

            if(i1 >= dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]))
            {
                LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_fec_members_table[][]: ")));
                LOG_CLI((BSL_META("Invalid index: %d \n"),i1));
                SHR_EXIT();
            }

            if(dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0]) == 0)
            {
                SHR_EXIT();
            }

            for(; i1 < I1; i1++) {
                dnx_sw_state_dump_update_current_idx(unit, i1);
                DNX_SW_STATE_PRINT_MONITOR(
                    unit,
                    "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_fec_members_table[%s%d][%s%d]: ", s0, i0, s1, i1);

                DNX_SW_STATE_PRINT_FILE(
                    unit,
                    "[%s%d][%s%d]: ", s0, i0, s1, i1);

                dnx_sw_state_print_uint8(
                    unit,
                    &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_fec_members_table[i0][i1]);

            }
            i1 = org_i1;
            dnx_sw_state_dump_end_of_stride(unit);
        }
        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 *
 * dump function for the variable ecmp_group_size_minus_one
 * AUTO-GENERATED - DO NOT MODIFY
 */
int
ecmp_db_info_ecmp_group_size_minus_one_dump(int  unit,  int  ecmp_group_size_minus_one_idx_0,  int  ecmp_group_size_minus_one_idx_1,  dnx_sw_state_dump_filters_t  filters)
{
    int i0 = ecmp_group_size_minus_one_idx_0, I0 = ecmp_group_size_minus_one_idx_0 + 1;
    int i1 = ecmp_group_size_minus_one_idx_1, I1 = ecmp_group_size_minus_one_idx_1 + 1, org_i1 = ecmp_group_size_minus_one_idx_1;
    char *s0 = "", *s1 = "";
    DNXC_SW_STATE_INIT_FUNC_DEFS;

    if (dnx_sw_state_compare(filters.typefilter, "uint8") != TRUE)
    {
         SHR_EXIT();
    }

    if (dnx_sw_state_compare(filters.namefilter, "ecmp ecmp_group_size_minus_one") != TRUE)
    {
         SHR_EXIT();
    }

    if (filters.nocontent)
    {
         DNX_SW_STATE_PRINT(unit, "swstate ecmp ecmp_group_size_minus_one\n");
    }
    else
    {
        dnx_sw_state_dump_attach_file(
            unit,
            "ecmp_db_info/ecmp_group_size_minus_one.txt",
            "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_group_size_minus_one[][]: ");

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID]));

        DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
            unit,
            ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one);

        if (i0 == -1) {
            I0 = dnx_sw_state_get_nof_elements(unit,
                ECMP_MODULE_ID,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one);
            i0 = dnx_sw_state_dump_check_all_the_same(unit,
                ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one
                , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one), I0, &s0) ? I0 - 1 : 0;
        }

        if(i0 >= dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one))
        {
            LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_group_size_minus_one[][]: ")));
            LOG_CLI((BSL_META("Invalid index: %d \n"),i0));
            SHR_EXIT();
        }

        if(dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one) == 0)
        {
            SHR_EXIT();
        }

        for(; i0 < I0; i0++) {
            /*coverity explanation: coverity has detected an out of bound read, due to i0 being incremented;
            However, we have a check if i0 > the end condition of the loop. If the check catches that i0 has
            reached the value of the end condition, we exit the function.
            What coverity is catching is the last increment of i0 before the loop ends. */
            /* coverity[overrun-local:FALSE] */
                DNX_SW_STATE_DUMP_PTR_NULL_CHECK(
                    unit,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]);

            if (i1 == -1) {
                I1 = dnx_sw_state_get_nof_elements(unit,
                    ECMP_MODULE_ID,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]);
                i1 = dnx_sw_state_dump_check_all_the_same(unit,
                    ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]
                    , sizeof(*((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]), I1, &s1) ? I1 - 1 : 0;
            }

            if(i1 >= dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]))
            {
                LOG_CLI((BSL_META("ecmp_db_info[]->((ecmp_sw_db_info_t*)sw_state_roots_array[][ECMP_MODULE_ID])->ecmp_group_size_minus_one[][]: ")));
                LOG_CLI((BSL_META("Invalid index: %d \n"),i1));
                SHR_EXIT();
            }

            if(dnx_sw_state_get_nof_elements(unit, ECMP_MODULE_ID, ((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0]) == 0)
            {
                SHR_EXIT();
            }

            for(; i1 < I1; i1++) {
                dnx_sw_state_dump_update_current_idx(unit, i1);
                DNX_SW_STATE_PRINT_MONITOR(
                    unit,
                    "ecmp_db_info[%d]->","((ecmp_sw_db_info_t*)sw_state_roots_array[%d][ECMP_MODULE_ID])->","ecmp_group_size_minus_one[%s%d][%s%d]: ", s0, i0, s1, i1);

                DNX_SW_STATE_PRINT_FILE(
                    unit,
                    "[%s%d][%s%d]: ", s0, i0, s1, i1);

                dnx_sw_state_print_uint8(
                    unit,
                    &((ecmp_sw_db_info_t*)sw_state_roots_array[unit][ECMP_MODULE_ID])->ecmp_group_size_minus_one[i0][i1]);

            }
            i1 = org_i1;
            dnx_sw_state_dump_end_of_stride(unit);
        }
        dnx_sw_state_dump_detach_file(
            unit);

    }

    DNXC_SW_STATE_FUNC_RETURN;
}



/*
 * Global Variables
 */

dnx_sw_state_diagnostic_info_t ecmp_db_info_info[SOC_MAX_NUM_DEVICES][ECMP_DB_INFO_INFO_NOF_ENTRIES];
const char* ecmp_db_info_layout_str[ECMP_DB_INFO_INFO_NOF_ENTRIES] = {
    "ECMP_DB_INFO~",
    "ECMP_DB_INFO~MEMBERS_TBL_ADDR_PROFILE_LINK_LISTS~",
    "ECMP_DB_INFO~CONSISTENT_HASHING_MANAGER_HANDLE~",
    "ECMP_DB_INFO~ECMP_RES_MANAGER~",
    "ECMP_DB_INFO~ECMP_EXTENDED_RES_MANAGER~",
    "ECMP_DB_INFO~ECMP_HIERARCHY~",
    "ECMP_DB_INFO~ECMP_NOF_USED_ELEMENTS_PER_GRAIN~",
    "ECMP_DB_INFO~ECMP_FEC_MEMBERS_TABLE~",
    "ECMP_DB_INFO~ECMP_GROUP_SIZE_MINUS_ONE~",
};
#endif /* DNX_SW_STATE_DIAGNOSTIC */
#undef BSL_LOG_MODULE
