/*
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 *
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2020 Broadcom Inc. All rights reserved.
 */

#include <bcm_int/ltsw/mbcm/flexstate.h>
#include <bcm_int/ltsw/chip/bcm56780_a0/variant_dispatch.h>
#include <bcm_int/ltsw/flexstate.h>
#include <bcm_int/ltsw/flexstate_int.h>
#include <bcm_int/ltsw/profile_mgmt.h>

#include <shr/shr_debug.h>
#include <bcmltd/chip/bcmltd_str.h>

/******************************************************************************
 * Local definitions
 */

#define BSL_LOG_MODULE BSL_LS_BCM_FLEXSTATE

/******************************************************************************
 * Private functions
 */


static bcmint_flexstate_stage_info_t bcm56780_a0_st_info[BCMI_LTSW_FLEXSTATE_STAGE_COUNT] = {
    {
        .stage = BCMI_LTSW_FLEXSTATE_STAGE_ING_LKUP,
        .name = "ing flexstate lookup",
        .dir = BCMI_LTSW_FLEXSTATE_DIR_INGRESS,
        .ha_pool_id = BCMINT_FLEXSTATE_ING_LKUP_POOL_SUB_COMP_ID,
        .ha_quant_id = BCMINT_FLEXSTATE_ING_LKUP_QUANT_SUB_COMP_ID,
        .ha_action_id = BCMINT_FLEXSTATE_ING_LKUP_ACTION_SUB_COMP_ID,
        .ha_grp_act_id = BCMINT_FLEXSTATE_ING_LKUP_GRP_ACTION_SUB_COMP_ID,
        .ph = {
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE0,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE1,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE2,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE3,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE4,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE5,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE6,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_LKUP_PIPE7,
        },
        .obj_quant_cfg = FLEX_STATE_ING_OBJ_QUANTIZATIONs,
        .range_chk_profile = FLEX_STATE_ING_RANGE_CHK_PROFILEs,
        .range_chk_profile_id = FLEX_STATE_ING_RANGE_CHK_PROFILE_IDs,
        .act_profile = FLEX_STATE_ING_ACTION_PROFILEs,
        .act_profile_id = FLEX_STATE_ING_ACTION_PROFILE_IDs,
        .act_index = INDEX_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_comp = VAL_A_COMP_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_true = VAL_A_UPD_TRUE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_false = VAL_A_UPD_FALSE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_comp = VAL_B_COMP_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_true = VAL_B_UPD_TRUE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_false = VAL_B_UPD_FALSE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .grp_act_profile = FLEX_STATE_ING_GROUP_ACTION_PROFILEs,
        .grp_act_profile_id = FLEX_STATE_ING_GROUP_ACTION_PROFILE_IDs,
        .operand_profile = FLEX_STATE_ING_OPERAND_PROFILEs,
        .operand_profile_id = FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .stats = FLEX_STATE_ING_STATSs,
        .trigger = FLEX_STATE_ING_TRIGGERs,
        .err_stats = FLEX_STATE_ING_ERROR_STATSs,
        .inst = ING_POST_LKUP_INSTs,
    },
    {
        .stage = BCMI_LTSW_FLEXSTATE_STAGE_ING_FWD,
        .name = "ing flexstate forward",
        .dir = BCMI_LTSW_FLEXSTATE_DIR_INGRESS,
        .ha_pool_id = BCMINT_FLEXSTATE_ING_FWD_POOL_SUB_COMP_ID,
        .ha_quant_id = BCMINT_FLEXSTATE_ING_FWD_QUANT_SUB_COMP_ID,
        .ha_action_id = BCMINT_FLEXSTATE_ING_FWD_ACTION_SUB_COMP_ID,
        .ha_grp_act_id = BCMINT_FLEXSTATE_ING_FWD_GRP_ACTION_SUB_COMP_ID,
        .ph = {
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE0,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE1,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE2,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE3,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE4,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE5,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE6,
            BCMI_LTSW_PROFILE_FLEXSTATE_ING_FWD_PIPE7,
        },
        .obj_quant_cfg = FLEX_STATE_ING_OBJ_QUANTIZATIONs,
        .range_chk_profile = FLEX_STATE_ING_RANGE_CHK_PROFILEs,
        .range_chk_profile_id = FLEX_STATE_ING_RANGE_CHK_PROFILE_IDs,
        .act_profile = FLEX_STATE_ING_ACTION_PROFILEs,
        .act_profile_id = FLEX_STATE_ING_ACTION_PROFILE_IDs,
        .act_index = INDEX_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_comp = VAL_A_COMP_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_true = VAL_A_UPD_TRUE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_a_false = VAL_A_UPD_FALSE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_comp = VAL_B_COMP_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_true = VAL_B_UPD_TRUE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .act_value_b_false = VAL_B_UPD_FALSE_FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .grp_act_profile = FLEX_STATE_ING_GROUP_ACTION_PROFILEs,
        .grp_act_profile_id = FLEX_STATE_ING_GROUP_ACTION_PROFILE_IDs,
        .operand_profile = FLEX_STATE_ING_OPERAND_PROFILEs,
        .operand_profile_id = FLEX_STATE_ING_OPERAND_PROFILE_IDs,
        .stats = FLEX_STATE_ING_STATSs,
        .trigger = FLEX_STATE_ING_TRIGGERs,
        .err_stats = FLEX_STATE_ING_ERROR_STATSs,
        .inst = ING_POST_FWD_INSTs,
    },
    {
        .stage = BCMI_LTSW_FLEXSTATE_STAGE_EGR,
        .name = "egr flexstate",
        .dir = BCMI_LTSW_FLEXSTATE_DIR_EGRESS,
        .ha_pool_id = BCMINT_FLEXSTATE_EGR_POOL_SUB_COMP_ID,
        .ha_quant_id = BCMINT_FLEXSTATE_EGR_QUANT_SUB_COMP_ID,
        .ha_action_id = BCMINT_FLEXSTATE_EGR_ACTION_SUB_COMP_ID,
        .ha_grp_act_id = BCMINT_FLEXSTATE_EGR_GRP_ACTION_SUB_COMP_ID,
        .ph = {
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE0,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE1,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE2,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE3,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE4,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE5,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE6,
            BCMI_LTSW_PROFILE_FLEXSTATE_EGR_PIPE7,
        },
        .obj_quant_cfg = FLEX_STATE_EGR_OBJ_QUANTIZATIONs,
        .range_chk_profile = FLEX_STATE_EGR_RANGE_CHK_PROFILEs,
        .range_chk_profile_id = FLEX_STATE_EGR_RANGE_CHK_PROFILE_IDs,
        .act_profile = FLEX_STATE_EGR_ACTION_PROFILEs,
        .act_profile_id = FLEX_STATE_EGR_ACTION_PROFILE_IDs,
        .act_index = INDEX_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_a_comp = VAL_A_COMP_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_a_true = VAL_A_UPD_TRUE_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_a_false = VAL_A_UPD_FALSE_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_b_comp = VAL_B_COMP_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_b_true = VAL_B_UPD_TRUE_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .act_value_b_false = VAL_B_UPD_FALSE_FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .grp_act_profile = FLEX_STATE_EGR_GROUP_ACTION_PROFILEs,
        .grp_act_profile_id = FLEX_STATE_EGR_GROUP_ACTION_PROFILE_IDs,
        .operand_profile = FLEX_STATE_EGR_OPERAND_PROFILEs,
        .operand_profile_id = FLEX_STATE_EGR_OPERAND_PROFILE_IDs,
        .stats = FLEX_STATE_EGR_STATSs,
        .trigger = FLEX_STATE_EGR_TRIGGERs,
        .err_stats = FLEX_STATE_EGR_ERROR_STATSs,
        .inst = EGR_POST_LKUP_INSTs,
    },
};


static int
bcm56780_a0_ltsw_flexstate_stage_info_get(
    int unit,
    bcmint_flexstate_stage_info_t **stage_info)
{
    *stage_info = bcm56780_a0_st_info;
    return SHR_E_NONE;
}

/*!
 * \brief Flexstate driver function variable for bcm56780_a0 device.
 */
static mbcm_ltsw_flexstate_drv_t bcm56780_a0_ltsw_flexstate_drv = {
    .flexstate_stage_info_get = bcm56780_a0_ltsw_flexstate_stage_info_get
};

/******************************************************************************
 * Public functions
 */

int
bcm56780_a0_ltsw_flexstate_drv_attach(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (mbcm_ltsw_flexstate_drv_set(unit, &bcm56780_a0_ltsw_flexstate_drv));

    SHR_IF_ERR_VERBOSE_EXIT
        (bcm56780_a0_ltsw_variant_drv_attach(unit, BCM56780_A0_LTSW_VARIANT_FLEXSTATE));

exit:
    SHR_FUNC_EXIT();
}

