/*
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 *
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2020 Broadcom Inc. All rights reserved.
 */

#include <bcm/flexctr.h>
#include <bcm_int/control.h>

#include <bcm_int/ltsw/mbcm/l2.h>
#include <bcm_int/ltsw/xfs/l2.h>
#include <bcm_int/ltsw_dispatch.h>
#include <bcm_int/ltsw/flexctr.h>
#include <bcm_int/ltsw/chip/bcm56780_a0/variant_dispatch.h>

#include <shr/shr_debug.h>
#include <bcmltd/chip/bcmltd_str.h>

/******************************************************************************
 * Local definitions
 */

#define BSL_LOG_MODULE BSL_LS_BCM_L2

/******************************************************************************
 * Private functions
 */

static int
bcm56780_a0_ltsw_l2_init(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_init(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_detach(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_detach(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_add(
    int unit,
    bcm_l2_addr_t *l2addr)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_add(unit, l2addr));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_get(
    int unit,
    bcm_mac_t mac,
    bcm_vlan_t vid,
    bcm_l2_addr_t *l2addr)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_get(unit, mac, vid, l2addr));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_delete(
    int unit,
    bcm_mac_t mac,
    bcm_vlan_t vid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_delete(unit, mac, vid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_replace(
    int unit,
    bcmint_l2_replace_t *rep_st)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_replace(unit, rep_st));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_traverse(
    int unit,
    bcm_l2_traverse_cb trav_fn,
    void *user_data)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_traverse(unit, trav_fn, user_data));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_addr_del_by_tuple(
    int unit,
    bcmint_l2_tuple_ctrl_t *tuple_ctrl)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_addr_del_by_tuple(unit, tuple_ctrl));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_station_size_get(
    int unit,
    uint32_t *tbl_sz)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_station_size_get(unit, tbl_sz));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_age(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_age(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_station_add(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_station_add(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_station_get(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_station_get(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_station_delete(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_station_delete(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_force_vlan_set(
    int unit,
    bcm_port_t port,
    bcm_vlan_t vlan,
    uint32_t flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_force_vlan_set(unit, port, vlan, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_learn_set(
    int unit,
    int enable)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_learn_set(unit, enable));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_learn_get(
    int unit,
    int *enable)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_learn_get(unit, enable));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_station_vlan_update(
    int unit,
    int vid,
    int flags,
    bcmi_ltsw_l2_station_vlan_t *vlan_info)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_station_vlan_update(unit, vid, flags, vlan_info));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_size_get(
    int unit,
    int *size)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_size_get(unit, size));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_count_get(
    int unit,
    int *count)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_count_get(unit, count));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_view_vlan_update(
    int unit,
    bcmi_ltsw_l2_view_vlan_info_t *info)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_view_vlan_update(unit, info));

exit:
    SHR_FUNC_EXIT();
}

static void
bcm56780_a0_ltsw_l2_sw_dump(int unit)
{
    xfs_ltsw_l2_sw_dump(unit);
}

static int
bcm56780_a0_ltsw_l2_virtual_info_update(
    int unit,
    bcmi_ltsw_l2_virtual_info_t *info)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xfs_ltsw_l2_virtual_info_update(unit, info));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56780_a0_ltsw_l2_hitbit_detach(
    int unit,
    bcmint_l2_flexctr_info_t *info)
{
    return SHR_E_UNAVAIL;
}

static int
bcm56780_a0_ltsw_l2_hitbit_init(
    int unit,
    bcmint_l2_flexctr_info_t *info)
{
    return SHR_E_UNAVAIL;
}

/*!
 * \brief L2 driver function variable for bcm56780_a0 device.
 */
static mbcm_ltsw_l2_drv_t bcm56780_a0_ltsw_l2_drv = {
    .l2_init = bcm56780_a0_ltsw_l2_init,
    .l2_detach = bcm56780_a0_ltsw_l2_detach,
    .l2_addr_add = bcm56780_a0_ltsw_l2_addr_add,
    .l2_addr_get = bcm56780_a0_ltsw_l2_addr_get,
    .l2_addr_delete = bcm56780_a0_ltsw_l2_addr_delete,
    .l2_addr_replace = bcm56780_a0_ltsw_l2_addr_replace,
    .l2_addr_traverse = bcm56780_a0_ltsw_l2_addr_traverse,
    .l2_addr_del_by_tuple = bcm56780_a0_ltsw_l2_addr_del_by_tuple,
    .l2_station_size_get = bcm56780_a0_ltsw_l2_station_size_get,
    .l2_age = bcm56780_a0_ltsw_l2_age,
    .l2_station_add = bcm56780_a0_ltsw_l2_station_add,
    .l2_station_get = bcm56780_a0_ltsw_l2_station_get,
    .l2_station_delete = bcm56780_a0_ltsw_l2_station_delete,
    .l2_force_vlan_set = bcm56780_a0_ltsw_l2_force_vlan_set,
    .l2_learn_set = bcm56780_a0_ltsw_l2_learn_set,
    .l2_learn_get = bcm56780_a0_ltsw_l2_learn_get,
    .l2_station_vlan_update = bcm56780_a0_ltsw_l2_station_vlan_update,
    .l2_size_get = bcm56780_a0_ltsw_l2_size_get,
    .l2_count_get = bcm56780_a0_ltsw_l2_count_get,
    .l2_view_vlan_update = bcm56780_a0_ltsw_l2_view_vlan_update,
    .l2_sw_dump = bcm56780_a0_ltsw_l2_sw_dump,
    .l2_virtual_info_update = bcm56780_a0_ltsw_l2_virtual_info_update,
    .l2_hitbit_detach = bcm56780_a0_ltsw_l2_hitbit_detach,
    .l2_hitbit_init = bcm56780_a0_ltsw_l2_hitbit_init
};

/******************************************************************************
 * Public functions
 */

int
bcm56780_a0_ltsw_l2_drv_attach(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (mbcm_ltsw_l2_drv_set(unit, &bcm56780_a0_ltsw_l2_drv));

    SHR_IF_ERR_VERBOSE_EXIT
        (bcm56780_a0_ltsw_variant_drv_attach(unit, BCM56780_A0_LTSW_VARIANT_L2));

exit:
    SHR_FUNC_EXIT();
}

