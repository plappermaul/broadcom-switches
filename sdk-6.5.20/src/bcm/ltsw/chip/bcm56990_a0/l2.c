/*
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 *
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2020 Broadcom Inc. All rights reserved.
 */

#include <bcm_int/ltsw/mbcm/l2.h>
#include <bcm_int/ltsw/xgs/l2.h>
#include "sub_dispatch.h"

#include <shr/shr_debug.h>

/******************************************************************************
 * Local definitions
 */

#define BSL_LOG_MODULE BSL_LS_BCM_L2

/******************************************************************************
 * Private functions
 */

static int
bcm56990_a0_ltsw_l2_init(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_init(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_detach(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_detach(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_add(
    int unit,
    bcm_l2_addr_t *l2addr)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_add(unit, l2addr));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_get(
    int unit,
    bcm_mac_t mac,
    bcm_vlan_t vid,
    bcm_l2_addr_t *l2addr)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_get(unit, mac, vid, l2addr));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_delete(
    int unit,
    bcm_mac_t mac,
    bcm_vlan_t vid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_delete(unit, mac, vid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_replace(
    int unit,
    bcmint_l2_replace_t *rep_st)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_replace(unit, rep_st));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_traverse(
    int unit,
    bcm_l2_traverse_cb trav_fn,
    void *user_data)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_traverse(unit, trav_fn, user_data));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_addr_del_by_tuple(
    int unit,
    bcmint_l2_tuple_ctrl_t *tuple_ctrl)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_addr_del_by_tuple(unit, tuple_ctrl));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_station_size_get(
    int unit,
    uint32_t *tbl_sz)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_station_size_get(unit, tbl_sz));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_overlay_station_size_get(
    int unit,
    uint32_t *tbl_sz)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_overlay_station_size_get(unit, tbl_sz));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_age(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_age(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_station_add(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_station_add(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_station_get(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_station_get(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_station_delete(
    int unit,
    bcm_l2_station_t *station,
    int flags)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_station_delete(unit, station, flags));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_learn_set(
    int unit,
    int enable)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_learn_set(unit, enable));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_learn_get(
    int unit,
    int *enable)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_learn_get(unit, enable));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_size_get(
    int unit,
    int *size)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_size_get(unit, size));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_count_get(
    int unit,
    int *count)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_count_get(unit, count));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_init(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_init(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_set(
    int unit,
    int index,
    bcm_l2_cache_addr_t *l2caddr,
    int *index_used)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_set(unit, index, l2caddr, index_used));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_get(
    int unit,
    int index,
    bcm_l2_cache_addr_t *l2caddr)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_get(unit, index, l2caddr));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_size_get(
    int unit,
    int *size)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_size_get(unit, size));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_delete(
    int unit,
    int index)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_delete(unit, index));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_cache_delete_all(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_cache_delete_all(unit));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_opaque_tag_set(
    int unit,
    int opaque_tag_id,
    int tag_size,
    int ether_type,
    int tag_type,
    int valid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_opaque_tag_set(unit, opaque_tag_id, tag_size, ether_type, tag_type, valid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_opaque_tag_get(
    int unit,
    int opaque_tag_id,
    int *tag_size,
    int *ether_type,
    int *tag_type,
    int *valid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_opaque_tag_get(unit, opaque_tag_id, tag_size, ether_type, tag_type, valid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_payload_opaque_tag_set(
    int unit,
    int opaque_tag_id,
    int tag_size,
    int ether_type,
    int tag_type,
    int valid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_payload_opaque_tag_set(unit, opaque_tag_id, tag_size, ether_type, tag_type, valid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_payload_opaque_tag_get(
    int unit,
    int opaque_tag_id,
    int *tag_size,
    int *ether_type,
    int *tag_type,
    int *valid)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_payload_opaque_tag_get(unit, opaque_tag_id, tag_size, ether_type, tag_type, valid));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_frozen_cml_restore(
    int unit,
    int *l2_freeze_mode)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_frozen_cml_restore(unit, l2_freeze_mode));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_frozen_cml_save(
    int unit,
    int *l2_freeze_mode)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_frozen_cml_save(unit, l2_freeze_mode));

exit:
    SHR_FUNC_EXIT();
}

static int
bcm56990_a0_ltsw_l2_frozen_cml_recover(
    int unit,
    int *l2_freeze_override)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (xgs_ltsw_l2_frozen_cml_recover(unit, l2_freeze_override));

exit:
    SHR_FUNC_EXIT();
}

/*!
 * \brief L2 driver function variable for bcm56990_a0 device.
 */
static mbcm_ltsw_l2_drv_t bcm56990_a0_ltsw_l2_drv = {
    .l2_init = bcm56990_a0_ltsw_l2_init,
    .l2_detach = bcm56990_a0_ltsw_l2_detach,
    .l2_addr_add = bcm56990_a0_ltsw_l2_addr_add,
    .l2_addr_get = bcm56990_a0_ltsw_l2_addr_get,
    .l2_addr_delete = bcm56990_a0_ltsw_l2_addr_delete,
    .l2_addr_replace = bcm56990_a0_ltsw_l2_addr_replace,
    .l2_addr_traverse = bcm56990_a0_ltsw_l2_addr_traverse,
    .l2_addr_del_by_tuple = bcm56990_a0_ltsw_l2_addr_del_by_tuple,
    .l2_station_size_get = bcm56990_a0_ltsw_l2_station_size_get,
    .l2_overlay_station_size_get = bcm56990_a0_ltsw_l2_overlay_station_size_get,
    .l2_age = bcm56990_a0_ltsw_l2_age,
    .l2_station_add = bcm56990_a0_ltsw_l2_station_add,
    .l2_station_get = bcm56990_a0_ltsw_l2_station_get,
    .l2_station_delete = bcm56990_a0_ltsw_l2_station_delete,
    .l2_learn_set = bcm56990_a0_ltsw_l2_learn_set,
    .l2_learn_get = bcm56990_a0_ltsw_l2_learn_get,
    .l2_size_get = bcm56990_a0_ltsw_l2_size_get,
    .l2_count_get = bcm56990_a0_ltsw_l2_count_get,
    .l2_cache_init = bcm56990_a0_ltsw_l2_cache_init,
    .l2_cache_set = bcm56990_a0_ltsw_l2_cache_set,
    .l2_cache_get = bcm56990_a0_ltsw_l2_cache_get,
    .l2_cache_size_get = bcm56990_a0_ltsw_l2_cache_size_get,
    .l2_cache_delete = bcm56990_a0_ltsw_l2_cache_delete,
    .l2_cache_delete_all = bcm56990_a0_ltsw_l2_cache_delete_all,
    .l2_opaque_tag_set = bcm56990_a0_ltsw_l2_opaque_tag_set,
    .l2_opaque_tag_get = bcm56990_a0_ltsw_l2_opaque_tag_get,
    .l2_payload_opaque_tag_set = bcm56990_a0_ltsw_l2_payload_opaque_tag_set,
    .l2_payload_opaque_tag_get = bcm56990_a0_ltsw_l2_payload_opaque_tag_get,
    .l2_frozen_cml_restore = bcm56990_a0_ltsw_l2_frozen_cml_restore,
    .l2_frozen_cml_save = bcm56990_a0_ltsw_l2_frozen_cml_save,
    .l2_frozen_cml_recover = bcm56990_a0_ltsw_l2_frozen_cml_recover,
};

/******************************************************************************
 * Public functions
 */

int
bcm56990_a0_ltsw_l2_drv_attach(int unit)
{
    SHR_FUNC_ENTER(unit);

    SHR_IF_ERR_VERBOSE_EXIT
        (mbcm_ltsw_l2_drv_set(unit, &bcm56990_a0_ltsw_l2_drv));

    SHR_IF_ERR_VERBOSE_EXIT
        (bcm56990_a0_sub_drv_attach(unit, &bcm56990_a0_ltsw_l2_drv,
                                    BCM56990_A0_SUB_DRV_BCM56990_Ax,
                                    BCM56990_A0_SUB_MOD_L2));

exit:
    SHR_FUNC_EXIT();
}

/*!
 * \brief Attach functions for other members.
 */
#define BCM56990_A0_DRV_ATTACH_ENTRY(_dn,_vn,_pf,_pd,_r0) \
int _vn##_ltsw_l2_drv_attach(int unit) \
{ \
    SHR_FUNC_ENTER(unit); \
    SHR_IF_ERR_VERBOSE_EXIT \
        (mbcm_ltsw_l2_drv_set(unit, &bcm56990_a0_ltsw_l2_drv)); \
    SHR_IF_ERR_VERBOSE_EXIT \
        (bcm56990_a0_sub_drv_attach(unit, &bcm56990_a0_ltsw_l2_drv, \
                                    BCM56990_A0_SUB_DRV_##_dn, \
                                    BCM56990_A0_SUB_MOD_L2)); \
exit: \
    SHR_FUNC_EXIT(); \
}
#include "sub_devlist.h"
