/*
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 *
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2020 Broadcom Inc. All rights reserved.
 */

#ifndef BCMI_LTSW_MULTICAST_H
#define BCMI_LTSW_MULTICAST_H

#include <bcm/types.h>

#include <sal/sal_types.h>

/*!
 * \brief Get group id from HW L3_IPMC id.
 *
 * \param [in] unit Unit Number.
 * \param [in] ipmc_id L3 ipmc hw index.
 * \param [out] group Multicast group ID.
 *
 * \retval SHR_E_NONE Success.
 * \retval SHR_E_NOT_FOUND No Initialization.
 */
extern int
bcmi_ltsw_multicast_l3_grp_id_get(
    int unit,
    uint32_t ipmc_id,
    bcm_multicast_t *group);

/*!
 * \brief validate if l2 group is used.
 *
 * \param [in] unit Unit Number.
 * \param [in] mc_index mc index.
 * \param [out] in_use mc index is in use.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_l2_grp_validate(
    int unit,
    int mc_index,
    int *in_use);

/*!
 * \brief Get L2 multicast group id for default VLAN.
 *
 * \param [in] unit Unit Number.
 * \param [out] grp_id L2 group HW index.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_def_vlan_grp_id_get(
    int unit,
    uint32_t *grp_id);

/*!
 * \brief Update member ports of default vlan multicast group.
 *
 * \param [in] unit Unit Number.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_def_vlan_grp_update(int unit);

/*!
 * \brief Get multicast l2 l3 combined mode.
 *
 * \param [in] unit Unit Number.
 * \param [out] enable Enable/disable
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_l2_l3_combined_get(
    int unit,
    bool *enable);

/*!
 * \brief Enable/disable to egress both L2 and L3 packet copies on a same egress port.
 *
 * \param [in] unit Unit Number.
 * \param [in] enable Enable/disable
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_l2_l3_combined_set(
    int unit,
    bool enable);

/*!
 * \brief update l2/l3 bitmap when stack port change.
 *
 * \param [in] unit Unit Number.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_stk_update(int unit);

/*!
 * \brief Initialize replication per-port configuration in the runtime.
 *
 * \param [in] unit Unit Number.
 * \param [in] port Port of this operation.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_repl_port_attach(
    int unit,
    bcm_port_t port);

/*!
 * \brief Clear replication per-port configuration in the runtime.
 *
 * \param [in] unit Unit Number.
 * \param [in] port Port of this operation.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_repl_port_detach(
    int unit,
    bcm_port_t port);

/*!
 * \brief Dump multicast software info.
 *
 * \param [in] unit Unit Number.
 */
extern void
bcmi_ltsw_multicast_sw_dump(int unit);

/*!
 * \brief Creat a L2 multicast group for vlan flooding.
 *
 * \param [in] unit Unit Number.
 * \param [in] pbmp VLAN port bitmap.
 * \param [out] mc_index Returned l2 multicast group index.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_grp_create(
    int unit,
    bcm_pbmp_t *pbmp,
    uint32_t *mc_index);

/*!
 * \brief Update l2 multicast group member for vlan flooding.
 *
 * \param [in] unit Unit Number.
 * \param [in] pbmp VLAN port bitmap.
 * \param [in] mc_index Returned l2 multicast group index.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_grp_update(
    int unit,
    bcm_pbmp_t *pbmp,
    uint32_t mc_index);

/*!
 * \brief Destroy a L2 multicast group for vlan flooding.
 *
 * \param [in] unit Unit Number.
 * \param [in] mc_index Returned l2 multicast group index.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_grp_destroy(
    int unit,
    uint32_t mc_index);

/*!
 * \brief Recover L2MC table index info for vlan flooding.
 *
 * \param [in] unit Unit Number.
 * \param [in] pbmp VLAN port bitmap.
 * \param [in] index L2 multicast group index.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_grp_recover(
    int unit,
    bcm_pbmp_t *pbmp,
    uint32_t index);

/*!
 * \brief Init l2mc index table management for vlan flooding.
 *
 * \param [in] unit Unit Number.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_init(int unit);

/*!
 * \brief Unregister l2mc index table management for vlan flooding.
 *
 * \param [in] unit Unit Number.
 *
 * \retval SHR_E_NONE Success.
 * \retval !SHR_E_NONE Failure.
 */
extern int
bcmi_ltsw_multicast_vlan_flood_unregister(int unit);

#endif /* BCMI_LTSW_MULTICAST_H */
