/*
 * $Id: ppe_tables_h.stg,v 1.17 Broadcom SDK $"
 * $Copyright: (c) 2016 Broadcom.
 * Broadcom Proprietary and Confidential. All rights reserved.$
 * t3p1_ppe_tables.h: Guadalupe2k V1.3 PPE table manager & wrappers
 *
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated from sdk/caladan_ucode/t3p1/src/t3p1_ppe_cfg.lrp.
 * Edits to this file will be lost when it is regenerated.
 *
 */
 
#ifndef _SOC_SBX_T3P1_PPE_TABLES_H
#define _SOC_SBX_T3P1_PPE_TABLES_H

#if defined(BCM_CALADAN3_SUPPORT) && defined(BCM_CALADAN3_T3P1_SUPPORT) 
#include <soc/sbx/t3p1/t3p1_defs.h>

typedef enum soc_sbx_t3p1_ppe_table_id_s {
   SOC_SBX_T3P1_PPE_P2E_TABLE_ID = 0 ,
   SOC_SBX_T3P1_PPE_EP2E_TABLE_ID = 1 ,
   SOC_SBX_T3P1_PPE_MAX_TABLE_ID
} soc_sbx_t3p1_ppe_table_id_t;

typedef enum soc_sbx_t3p1_ppe_entry_id_s {
   SOC_SBX_T3P1_PPE_P2E_ID = 0 ,
   SOC_SBX_T3P1_PPE_EP2E_ID = 1 ,
   SOC_SBX_T3P1_PPE_MAX_ENTRY_ID
} soc_sbx_t3p1_ppe_entry_id_t;

typedef struct soc_sbx_t3p1_ppe_table_manager_s {
    int behost;        
    
    soc_sbx_t3p1_index_desc_t *indexes;
    soc_sbx_t3p1_entry_desc_t *entries;   
        
    char *simbuffer;
    uint32 simbuffersize;    
     
} soc_sbx_t3p1_ppe_table_manager_t;

extern int soc_sbx_t3p1_ppe_tables_init(int unit);
extern int soc_sbx_t3p1_ppe_tables_uninit(int unit);
typedef struct soc_sbx_t3p1_ppe_p2e_s {
    uint32 portid; 
    uint32 state_num; 
    uint32 lsmmatch; 
    uint32 ipv4mc; 
    uint32 pbb; 
    uint32 twintpid; 
    uint32 tpid; 
    uint32 oamloop; 
    uint32 provider; 
    uint32 customer; 
    uint32 hdrtype; 
    uint32 timestamp; 
    uint32 aggr_hash; 
    uint32 port; 
    uint32 nativevid; 
    uint32 defcfi; 
    uint32 defpri; 
    uint32 defstrip; 
    uint32 pstrip; 
    uint32 mim; 
    uint32 mplstp; 
    uint32 untaggedstrip; 
    uint32 droptagged; 
    uint32 dropuntagged; 
    uint32 tc_1588; 
    uint32 rep_data; 
    uint32 ppe_variable; 
} soc_sbx_t3p1_p2e_t;

typedef struct soc_sbx_t3p1_ppe_ep2e_s {
    uint32 portid; 
    uint32 state_num; 
    uint32 lsmmatch; 
    uint32 ipv4mc; 
    uint32 pbb; 
    uint32 twintpid; 
    uint32 tpid; 
    uint32 oamloop; 
    uint32 provider; 
    uint32 customer; 
    uint32 hdrtype; 
    uint32 timestamp; 
    uint32 aggr_hash; 
    uint32 mim; 
    uint32 port; 
    uint32 pid; 
    uint32 stpid0; 
    uint32 stpid1; 
    uint32 cep; 
    uint32 keeperh; 
    uint32 mirroridx; 
    uint32 tc_1588; 
    uint32 rep_data; 
    uint32 ppe_variable; 
} soc_sbx_t3p1_ep2e_t;

/**
 * Initialize p2e entry parameters.
 *
 * @param[out] e entry parameter object
 */
extern void soc_sbx_t3p1_p2e_t_init(soc_sbx_t3p1_p2e_t *e);

/**
 * Get p2e entry size.
 *
 * Use this function for storage management of the
 * p2e table, because its entries have variable size
 *
 * @param[in]  unit chip unit number
 * @return     entry size, in words
 */
extern int soc_sbx_t3p1_p2e_size(int unit);

/**
 * Pack p2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  e entry parameters
 * @param[out] b packed byte array
 * @param[in]  bsz size of byte array
 */
extern int soc_sbx_t3p1_p2e_pack(int unit, soc_sbx_t3p1_p2e_t *e, uint8 *b, int bsz);

/**
 * Unpack p2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[out] e entry parameters
 * @param[in]  b packed byte array
 * @param[in]  bsz size of packed byte array
 */
extern int soc_sbx_t3p1_p2e_unpack(int unit, soc_sbx_t3p1_p2e_t *e, uint8 *b, int bsz);

extern int soc_sbx_t3p1_p2e_index_check(int unit, int *vindex, int iport  );

extern int soc_sbx_t3p1_p2e_entry_check(int unit, soc_sbx_t3p1_p2e_t *e);

/**
 * Synchronously set p2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  iport microcode port number
 * @param[in]  e entry parameters
 */
extern int soc_sbx_t3p1_p2e_set(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

extern int soc_sbx_t3p1_p2e_set_ext(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

extern int soc_sbx_t3p1_p2e_set_ext_sim(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

/**
 *  Get p2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  iport microcode port number
 * @param[out] e entry parameters
 */
extern int soc_sbx_t3p1_p2e_get(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

extern int soc_sbx_t3p1_p2e_get_ext(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

extern int soc_sbx_t3p1_p2e_get_ext_sim(int unit, int iport  , soc_sbx_t3p1_p2e_t *e);

/**
 * Initialize ep2e entry parameters.
 *
 * @param[out] e entry parameter object
 */
extern void soc_sbx_t3p1_ep2e_t_init(soc_sbx_t3p1_ep2e_t *e);

/**
 * Get ep2e entry size.
 *
 * Use this function for storage management of the
 * ep2e table, because its entries have variable size
 *
 * @param[in]  unit chip unit number
 * @return     entry size, in words
 */
extern int soc_sbx_t3p1_ep2e_size(int unit);

/**
 * Pack ep2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  e entry parameters
 * @param[out] b packed byte array
 * @param[in]  bsz size of byte array
 */
extern int soc_sbx_t3p1_ep2e_pack(int unit, soc_sbx_t3p1_ep2e_t *e, uint8 *b, int bsz);

/**
 * Unpack ep2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[out] e entry parameters
 * @param[in]  b packed byte array
 * @param[in]  bsz size of packed byte array
 */
extern int soc_sbx_t3p1_ep2e_unpack(int unit, soc_sbx_t3p1_ep2e_t *e, uint8 *b, int bsz);

extern int soc_sbx_t3p1_ep2e_index_check(int unit, int *vindex, int iport  );

extern int soc_sbx_t3p1_ep2e_entry_check(int unit, soc_sbx_t3p1_ep2e_t *e);

/**
 * Synchronously set ep2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  iport microcode port number
 * @param[in]  e entry parameters
 */
extern int soc_sbx_t3p1_ep2e_set(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

extern int soc_sbx_t3p1_ep2e_set_ext(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

extern int soc_sbx_t3p1_ep2e_set_ext_sim(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

/**
 *  Get ep2e entry.
 *
 * @param[in]  unit chip unit number
 * @param[in]  iport microcode port number
 * @param[out] e entry parameters
 */
extern int soc_sbx_t3p1_ep2e_get(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

extern int soc_sbx_t3p1_ep2e_get_ext(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

extern int soc_sbx_t3p1_ep2e_get_ext_sim(int unit, int iport  , soc_sbx_t3p1_ep2e_t *e);

#define SOC_SBX_T3P1_EGR_PPEVAR_MEMBER (3)
enum
{
    EGR_PPEVAR_PM_ENABLE,
    EGR_PPEVAR_LOOPBACK,
    EGR_PPEVAR_PWE_Y1731,
  PPE_RAM_EGR_PPEVAR_MAX
};
#define SOC_SBX_T3P1_ING_PPEVAR_MEMBER (22)
enum
{
    ING_PPEVAR_MIM_TRANSIT,
    ING_PPEVAR_LSM,
    ING_PPEVAR_NUMLBLS,
    ING_PPEVAR_DCN,
    ING_PPEVAR_OAMEN,
    ING_PPEVAR_LOOPBACK,
    ING_PPEVAR_LM_ENABLE,
    ING_PPEVAR_DM_ENABLE,
    ING_PPEVAR_VRRP,
    ING_PPEVAR_MPLS_TTL_EXPIRY,
    ING_PPEVAR_MPLSTP_LOOP,
    ING_PPEVAR_PWE_PING,
    ING_PPEVAR_PWE_Y1731,
    ING_PPEVAR_PWE_PSC,
    ING_PPEVAR_PWE_BFD,
    ING_PPEVAR_LSP_GAL,
    ING_PPEVAR_TRAFFICTYPE,
    ING_PPEVAR_L2CP,
    ING_PPEVAR_L2CPSLOW,
    ING_PPEVAR_PIM,
    ING_PPEVAR_IGMP,
    ING_PPEVAR_OAMLOOP,
  PPE_RAM_ING_PPEVAR_MAX
};
typedef struct soc_sbx_t3p1_egr_ppevar_s
{
    uint32 pm_enable;
    uint32 loopback;
    uint32 pwe_y1731;
} soc_sbx_t3p1_egr_ppevar_t;
extern int soc_sbx_t3p1_egr_ppevar_pack(int unit, soc_sbx_t3p1_egr_ppevar_t *e, uint8 *b, int bsz);
extern int soc_sbx_t3p1_egr_ppevar_unpack(int unit, soc_sbx_t3p1_egr_ppevar_t *e, uint8 *b, int bsz);
typedef struct soc_sbx_t3p1_ing_ppevar_s
{
    uint32 mim_transit;
    uint32 lsm;
    uint32 numlbls;
    uint32 dcn;
    uint32 oamen;
    uint32 loopback;
    uint32 lm_enable;
    uint32 dm_enable;
    uint32 vrrp;
    uint32 mpls_ttl_expiry;
    uint32 mplstp_loop;
    uint32 pwe_ping;
    uint32 pwe_y1731;
    uint32 pwe_psc;
    uint32 pwe_bfd;
    uint32 lsp_gal;
    uint32 traffictype;
    uint32 l2cp;
    uint32 l2cpslow;
    uint32 pim;
    uint32 igmp;
    uint32 oamloop;
} soc_sbx_t3p1_ing_ppevar_t;
extern int soc_sbx_t3p1_ing_ppevar_pack(int unit, soc_sbx_t3p1_ing_ppevar_t *e, uint8 *b, int bsz);
extern int soc_sbx_t3p1_ing_ppevar_unpack(int unit, soc_sbx_t3p1_ing_ppevar_t *e, uint8 *b, int bsz);
extern int soc_sbx_t3p1_egr_ppevar_check(int unit, soc_sbx_t3p1_egr_ppevar_t *e);
extern int soc_sbx_t3p1_ing_ppevar_check(int unit, soc_sbx_t3p1_ing_ppevar_t *e);

#endif
#endif
