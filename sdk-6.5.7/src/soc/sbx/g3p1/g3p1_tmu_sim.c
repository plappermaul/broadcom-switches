/*
 * $Id: tmu_c_ext_sim.stg,v 1.20 Broadcom SDK $
 * $Copyright: (c) 2016 Broadcom.
 * Broadcom Proprietary and Confidential. All rights reserved.$
 *
 * g3p1_tmu_sim.c: Guadalupe2k V1.3 TMU table manager & wrappers
 *
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated from sdk/caladan_ucode/g3p1/src/g3p1_tmu_cfg.lrp.
 * Edits to this file will be lost when it is regenerated.
 *
 */
#include <shared/bsl.h>

#include <sal/core/libc.h> 
#include <soc/types.h>
#include <soc/drv.h>

#if defined(BCM_CALADAN3_SUPPORT) && defined(BCM_CALADAN3_G3P1_SUPPORT) 
#include <soc/sbx/g3p1/g3p1_int.h>
#include <soc/sbx/g3p1/g3p1_tmu.h>
#include <soc/sbx/g3p1/g3p1_tmu_sim.h>
#include <soc/sbx/caladan3/simintf.h>

static char send_buffer[MAX_BUFFER_SIZE];
 


int soc_sbx_g3p1_mac_add_ext_sim(int unit,  soc_sbx_g3p1_6_byte_t imac ,  int ivsi , soc_sbx_g3p1_mac_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;
        
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup mac index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac0 0x%02x ", imac[0]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac1 0x%02x ", imac[1]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac2 0x%02x ", imac[2]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac3 0x%02x ", imac[3]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac4 0x%02x ", imac[4]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac5 0x%02x ", imac[5]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ageid 0x%x ", entry->ageid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac_hit 0x%x ", entry->smac_hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sdrop 0x%x ", entry->sdrop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dontage 0x%x ", entry->dontage);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sreserved 0x%x ", entry->sreserved);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pending 0x%x ", entry->pending);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "poe 0x%x ", entry->poe);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac_hit 0x%x ", entry->dmac_hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dcopy 0x%x ", entry->dcopy);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ddrop 0x%x ", entry->ddrop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dreserved 0x%x ", entry->dreserved);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_mac_delete_ext_sim(int unit,  soc_sbx_g3p1_6_byte_t imac ,  int ivsi )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup mac index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac0 0x%02x ", imac[0]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac1 0x%02x ", imac[1]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac2 0x%02x ", imac[2]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac3 0x%02x ", imac[3]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac4 0x%02x ", imac[4]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac5 0x%02x ", imac[5]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_mac_get_ext_sim(int unit,  soc_sbx_g3p1_6_byte_t imac ,  int ivsi , soc_sbx_g3p1_mac_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_mac_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup mac index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac0 0x%02x ", imac[0]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac1 0x%02x ", imac[1]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac2 0x%02x ", imac[2]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac3 0x%02x ", imac[3]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac4 0x%02x ", imac[4]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mac5 0x%02x ", imac[5]);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "ageid"))        { entry->ageid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac_hit"))        { entry->smac_hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "sdrop"))        { entry->sdrop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dontage"))        { entry->dontage = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "sreserved"))        { entry->sreserved = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pending"))        { entry->pending = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "poe"))        { entry->poe = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac_hit"))        { entry->dmac_hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dcopy"))        { entry->dcopy = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ddrop"))        { entry->ddrop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dreserved"))        { entry->dreserved = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_pvv2e_add_ext_sim(int unit,  int iivid ,  int iovid ,  int iport , soc_sbx_g3p1_pvv2e_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;
        
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup pvv2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad 0x%x ", entry->pad);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vpws 0x%x ", entry->vpws);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "stpstate 0x%x ", entry->stpstate);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vlan 0x%x ", entry->vlan);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "lpi 0x%x ", entry->lpi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "keeporstrip 0x%x ", entry->keeporstrip);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "replace 0x%x ", entry->replace);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid 0x%x ", entry->vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
        

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_pvv2e_delete_ext_sim(int unit,  int iivid ,  int iovid ,  int iport )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup pvv2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_pvv2e_get_ext_sim(int unit,  int iivid ,  int iovid ,  int iport , soc_sbx_g3p1_pvv2e_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_pvv2e_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup pvv2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "pad"))        { entry->pad = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vpws"))        { entry->vpws = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "stpstate"))        { entry->stpstate = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vlan"))        { entry->vlan = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "lpi"))        { entry->lpi = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "keeporstrip"))        { entry->keeporstrip = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "replace"))        { entry->replace = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vid"))        { entry->vid = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_labels_add_ext_sim(int unit,  int ilabel2 ,  int iresv ,  int iport ,  int ilabel1 , soc_sbx_g3p1_labels_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;
        
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup labels index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv 0x%02x ", iresv);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad 0x%x ", entry->pad);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "opcode 0x%x ", entry->opcode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vlan 0x%x ", entry->vlan);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "lock 0x%x ", entry->lock);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "keep_sdtag 0x%x ", entry->keep_sdtag);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pipe 0x%x ", entry->pipe);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "elsp 0x%x ", entry->elsp);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "stpstate 0x%x ", entry->stpstate);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vpws 0x%x ", entry->vpws);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "loop 0x%x ", entry->loop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "cos 0x%x ", entry->cos);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "lpi 0x%x ", entry->lpi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_labels_delete_ext_sim(int unit,  int ilabel2 ,  int iresv ,  int iport ,  int ilabel1 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup labels index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv 0x%02x ", iresv);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_labels_get_ext_sim(int unit,  int ilabel2 ,  int iresv ,  int iport ,  int ilabel1 , soc_sbx_g3p1_labels_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_labels_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup labels index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv 0x%02x ", iresv);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "pad"))        { entry->pad = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "opcode"))        { entry->opcode = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vlan"))        { entry->vlan = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "lock"))        { entry->lock = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "keep_sdtag"))        { entry->keep_sdtag = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pipe"))        { entry->pipe = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "elsp"))        { entry->elsp = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "stpstate"))        { entry->stpstate = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vpws"))        { entry->vpws = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "loop"))        { entry->loop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "cos"))        { entry->cos = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "lpi"))        { entry->lpi = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_v4da_add_ext_sim(int unit,  int ivrf ,  int ida , soc_sbx_g3p1_v4da_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v4da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da 0x%02x ", ida);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid 0x%x ", entry->vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ecmpmask 0x%x ", entry->ecmpmask);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}

int soc_sbx_g3p1_v4da_delete_ext_sim(int unit,  int ivrf ,  int ida )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v4da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;  

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da 0x%02x ", ida);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}
 
int soc_sbx_g3p1_v4da_get_ext_sim(int unit,  int ivrf ,  int ida , soc_sbx_g3p1_v4da_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v4da_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table v4da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da 0x%02x ", ida);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {
    
        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "vid"))        { entry->vid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ecmpmask"))        { entry->ecmpmask = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }
    
    return SOC_E_NONE;
}
          

int soc_sbx_g3p1_v4sa_add_ext_sim(int unit,  int ivrf ,  int isa , soc_sbx_g3p1_v4sa_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v4sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad 0x%x ", entry->pad);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "srccnt 0x%x ", entry->srccnt);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "srcdrop 0x%x ", entry->srcdrop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfmode 0x%x ", entry->rpfmode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "poe 0x%x ", entry->poe);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}

int soc_sbx_g3p1_v4sa_delete_ext_sim(int unit,  int ivrf ,  int isa )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v4sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;  

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}
 
int soc_sbx_g3p1_v4sa_get_ext_sim(int unit,  int ivrf ,  int isa , soc_sbx_g3p1_v4sa_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v4sa_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table v4sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {
    
        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "pad"))        { entry->pad = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "srccnt"))        { entry->srccnt = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "srcdrop"))        { entry->srcdrop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rpfmode"))        { entry->rpfmode = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "poe"))        { entry->poe = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }
    
    return SOC_E_NONE;
}
          

int soc_sbx_g3p1_v4mc_sgv_add_ext_sim(int unit,  int ivsi ,  int isa ,  int iga , soc_sbx_g3p1_v4mc_sgv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v4mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfunion 0x%x ", entry->rpfunion);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rsvd 0x%x ", entry->rsvd);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "proccopy 0x%x ", entry->proccopy);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v4mc_sgv_delete_ext_sim(int unit,  int ivsi ,  int isa ,  int iga )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v4mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v4mc_sgv_get_ext_sim(int unit,  int ivsi ,  int isa ,  int iga , soc_sbx_g3p1_v4mc_sgv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v4mc_sgv_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup v4mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa 0x%02x ", isa);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "rpfunion"))        { entry->rpfunion = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rsvd"))        { entry->rsvd = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "proccopy"))        { entry->proccopy = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_v4mc_gv_add_ext_sim(int unit,  int ivsi ,  int iga , soc_sbx_g3p1_v4mc_gv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v4mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfunion 0x%x ", entry->rpfunion);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rsvd 0x%x ", entry->rsvd);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "proccopy 0x%x ", entry->proccopy);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v4mc_gv_delete_ext_sim(int unit,  int ivsi ,  int iga )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v4mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v4mc_gv_get_ext_sim(int unit,  int ivsi ,  int iga , soc_sbx_g3p1_v4mc_gv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v4mc_gv_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup v4mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga 0x%02x ", iga);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "rpfunion"))        { entry->rpfunion = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rsvd"))        { entry->rsvd = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "proccopy"))        { entry->proccopy = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_v6da_add_ext_sim(int unit,  int ivrf ,  int ida0 ,  int ida1 ,  int ida2 ,  int ida3 , soc_sbx_g3p1_v6da_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v6da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da0 0x%02x ", ida0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da1 0x%02x ", ida1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da2 0x%02x ", ida2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da3 0x%02x ", ida3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid 0x%x ", entry->vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ecmpmask 0x%x ", entry->ecmpmask);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}

int soc_sbx_g3p1_v6da_delete_ext_sim(int unit,  int ivrf ,  int ida0 ,  int ida1 ,  int ida2 ,  int ida3 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v6da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;  

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da0 0x%02x ", ida0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da1 0x%02x ", ida1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da2 0x%02x ", ida2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da3 0x%02x ", ida3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}
 
int soc_sbx_g3p1_v6da_get_ext_sim(int unit,  int ivrf ,  int ida0 ,  int ida1 ,  int ida2 ,  int ida3 , soc_sbx_g3p1_v6da_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v6da_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table v6da index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da0 0x%02x ", ida0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da1 0x%02x ", ida1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da2 0x%02x ", ida2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "da3 0x%02x ", ida3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {
    
        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "vid"))        { entry->vid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ecmpmask"))        { entry->ecmpmask = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }
    
    return SOC_E_NONE;
}
          

int soc_sbx_g3p1_v6sa_add_ext_sim(int unit,  int ivrf ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 , soc_sbx_g3p1_v6sa_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v6sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad 0x%x ", entry->pad);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "srccnt 0x%x ", entry->srccnt);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "srcdrop 0x%x ", entry->srcdrop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfmode 0x%x ", entry->rpfmode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "poe 0x%x ", entry->poe);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}

int soc_sbx_g3p1_v6sa_delete_ext_sim(int unit,  int ivrf ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v6sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;  

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }
    return rv;
}
 
int soc_sbx_g3p1_v6sa_get_ext_sim(int unit,  int ivrf ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 , soc_sbx_g3p1_v6sa_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v6sa_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table v6sa index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vrf 0x%02x ", ivrf);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {
    
        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "pad"))        { entry->pad = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "srccnt"))        { entry->srccnt = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "srcdrop"))        { entry->srcdrop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rpfmode"))        { entry->rpfmode = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "poe"))        { entry->poe = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }
    
    return SOC_E_NONE;
}
          

int soc_sbx_g3p1_v6mc_gv_add_ext_sim(int unit,  int ivsi ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 , soc_sbx_g3p1_v6mc_gv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v6mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfunion 0x%x ", entry->rpfunion);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rsvd 0x%x ", entry->rsvd);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "proccopy 0x%x ", entry->proccopy);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v6mc_gv_delete_ext_sim(int unit,  int ivsi ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v6mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v6mc_gv_get_ext_sim(int unit,  int ivsi ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 , soc_sbx_g3p1_v6mc_gv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v6mc_gv_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup v6mc_gv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "rpfunion"))        { entry->rpfunion = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rsvd"))        { entry->rsvd = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "proccopy"))        { entry->proccopy = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_v6mc_sgv_add_ext_sim(int unit,  int ivsi ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 , soc_sbx_g3p1_v6mc_sgv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;
        
    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup v6mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rpfunion 0x%x ", entry->rpfunion);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rsvd 0x%x ", entry->rsvd);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "proccopy 0x%x ", entry->proccopy);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v6mc_sgv_delete_ext_sim(int unit,  int ivsi ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup v6mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_v6mc_sgv_get_ext_sim(int unit,  int ivsi ,  int isa0 ,  int isa1 ,  int isa2 ,  int isa3 ,  int iga0 ,  int iga1 ,  int iga2 ,  int iga3 , soc_sbx_g3p1_v6mc_sgv_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_v6mc_sgv_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup v6mc_sgv index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vsi 0x%02x ", ivsi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa0 0x%02x ", isa0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa1 0x%02x ", isa1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa2 0x%02x ", isa2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "sa3 0x%02x ", isa3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga0 0x%02x ", iga0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga1 0x%02x ", iga1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga2 0x%02x ", iga2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ga3 0x%02x ", iga3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "rpfunion"))        { entry->rpfunion = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rsvd"))        { entry->rsvd = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "proccopy"))        { entry->proccopy = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_oamrx_add_ext_sim(int unit,  int iivid ,  int iovid ,  int idir ,  int iport ,  int ivid_mode , soc_sbx_g3p1_oamrx_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup oamrx index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dir 0x%02x ", idir);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid_mode 0x%02x ", ivid_mode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "svc_hdl 0x%x ", entry->svc_hdl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_7_f 0x%x ", entry->mdlvl_7_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_7_d 0x%x ", entry->mdlvl_7_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_7_p 0x%x ", entry->mdlvl_7_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_7_m 0x%x ", entry->mdlvl_7_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_6_f 0x%x ", entry->mdlvl_6_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_6_d 0x%x ", entry->mdlvl_6_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_6_p 0x%x ", entry->mdlvl_6_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_6_m 0x%x ", entry->mdlvl_6_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_5_f 0x%x ", entry->mdlvl_5_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_5_d 0x%x ", entry->mdlvl_5_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_5_p 0x%x ", entry->mdlvl_5_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_5_m 0x%x ", entry->mdlvl_5_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_4_f 0x%x ", entry->mdlvl_4_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_4_d 0x%x ", entry->mdlvl_4_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_4_p 0x%x ", entry->mdlvl_4_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_4_m 0x%x ", entry->mdlvl_4_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_3_f 0x%x ", entry->mdlvl_3_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_3_d 0x%x ", entry->mdlvl_3_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_3_p 0x%x ", entry->mdlvl_3_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_3_m 0x%x ", entry->mdlvl_3_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_2_f 0x%x ", entry->mdlvl_2_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_2_d 0x%x ", entry->mdlvl_2_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_2_p 0x%x ", entry->mdlvl_2_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_2_m 0x%x ", entry->mdlvl_2_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_1_f 0x%x ", entry->mdlvl_1_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_1_d 0x%x ", entry->mdlvl_1_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_1_p 0x%x ", entry->mdlvl_1_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_1_m 0x%x ", entry->mdlvl_1_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_0_f 0x%x ", entry->mdlvl_0_f);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_0_d 0x%x ", entry->mdlvl_0_d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_0_p 0x%x ", entry->mdlvl_0_p);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl_0_m 0x%x ", entry->mdlvl_0_m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_oamrx_delete_ext_sim(int unit,  int iivid ,  int iovid ,  int idir ,  int iport ,  int ivid_mode )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup oamrx index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dir 0x%02x ", idir);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid_mode 0x%02x ", ivid_mode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_oamrx_get_ext_sim(int unit,  int iivid ,  int iovid ,  int idir ,  int iport ,  int ivid_mode , soc_sbx_g3p1_oamrx_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_oamrx_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup oamrx index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ivid 0x%02x ", iivid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ovid 0x%02x ", iovid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dir 0x%02x ", idir);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid_mode 0x%02x ", ivid_mode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "svc_hdl"))        { entry->svc_hdl = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_7_f"))        { entry->mdlvl_7_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_7_d"))        { entry->mdlvl_7_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_7_p"))        { entry->mdlvl_7_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_7_m"))        { entry->mdlvl_7_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_6_f"))        { entry->mdlvl_6_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_6_d"))        { entry->mdlvl_6_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_6_p"))        { entry->mdlvl_6_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_6_m"))        { entry->mdlvl_6_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_5_f"))        { entry->mdlvl_5_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_5_d"))        { entry->mdlvl_5_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_5_p"))        { entry->mdlvl_5_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_5_m"))        { entry->mdlvl_5_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_4_f"))        { entry->mdlvl_4_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_4_d"))        { entry->mdlvl_4_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_4_p"))        { entry->mdlvl_4_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_4_m"))        { entry->mdlvl_4_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_3_f"))        { entry->mdlvl_3_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_3_d"))        { entry->mdlvl_3_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_3_p"))        { entry->mdlvl_3_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_3_m"))        { entry->mdlvl_3_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_2_f"))        { entry->mdlvl_2_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_2_d"))        { entry->mdlvl_2_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_2_p"))        { entry->mdlvl_2_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_2_m"))        { entry->mdlvl_2_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_1_f"))        { entry->mdlvl_1_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_1_d"))        { entry->mdlvl_1_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_1_p"))        { entry->mdlvl_1_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_1_m"))        { entry->mdlvl_1_m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_0_f"))        { entry->mdlvl_0_f = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_0_d"))        { entry->mdlvl_0_d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_0_p"))        { entry->mdlvl_0_p = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl_0_m"))        { entry->mdlvl_0_m = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_maidmep_add_ext_sim(int unit,  int isvc_hdl ,  int imepid ,  int imsg_type ,  int imdlvl , soc_sbx_g3p1_maidmep_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup maidmep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "svc_hdl 0x%02x ", isvc_hdl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mepid 0x%02x ", imepid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "msg_type 0x%02x ", imsg_type);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl 0x%02x ", imdlvl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "peer_idx 0x%x ", entry->peer_idx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    
    
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_maidmep_delete_ext_sim(int unit,  int isvc_hdl ,  int imepid ,  int imsg_type ,  int imdlvl )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup maidmep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "svc_hdl 0x%02x ", isvc_hdl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mepid 0x%02x ", imepid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "msg_type 0x%02x ", imsg_type);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl 0x%02x ", imdlvl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_maidmep_get_ext_sim(int unit,  int isvc_hdl ,  int imepid ,  int imsg_type ,  int imdlvl , soc_sbx_g3p1_maidmep_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_maidmep_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup maidmep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "svc_hdl 0x%02x ", isvc_hdl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mepid 0x%02x ", imepid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "msg_type 0x%02x ", imsg_type);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl 0x%02x ", imdlvl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "peer_idx"))        { entry->peer_idx = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_emlfilter_add_ext_sim(int unit,  int iemlindex , soc_sbx_g3p1_emlfilter_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup emlfilter index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "emlindex 0x%02x ", iemlindex);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_0 0x%x ", entry->reserved_0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_1 0x%x ", entry->reserved_1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_2 0x%x ", entry->reserved_2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_3 0x%x ", entry->reserved_3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_emlfilter_delete_ext_sim(int unit,  int iemlindex )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup emlfilter index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "emlindex 0x%02x ", iemlindex);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_emlfilter_get_ext_sim(int unit,  int iemlindex , soc_sbx_g3p1_emlfilter_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_emlfilter_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup emlfilter index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "emlindex 0x%02x ", iemlindex);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "reserved_0"))        { entry->reserved_0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reserved_1"))        { entry->reserved_1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reserved_2"))        { entry->reserved_2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reserved_3"))        { entry->reserved_3 = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_ete_add_ext_sim(int unit,  int ietei , soc_sbx_g3p1_ete_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set table ete index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etei 0x%02x ", ietei);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmacset 0x%x ", entry->dmacset);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmacsetlsb 0x%x ", entry->dmacsetlsb);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dscpremark 0x%x ", entry->dscpremark);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "remark 0x%x ", entry->remark);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mplsttldec 0x%x ", entry->mplsttldec);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "encaplen 0x%x ", entry->encaplen);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "encapmac 0x%x ", entry->encapmac);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "nostrip 0x%x ", entry->nostrip);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "noclass 0x%x ", entry->noclass);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etepid 0x%x ", entry->etepid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tunnelenter 0x%x ", entry->tunnelenter);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp0remark 0x%x ", entry->exp0remark);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp1remark 0x%x ", entry->exp1remark);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp2remark 0x%x ", entry->exp2remark);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl0dec 0x%x ", entry->ttl0dec);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl1dec 0x%x ", entry->ttl1dec);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl2dec 0x%x ", entry->ttl2dec);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smacset 0x%x ", entry->smacset);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "nosplitcheck 0x%x ", entry->nosplitcheck);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttlcheck 0x%x ", entry->ttlcheck);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ipttldec 0x%x ", entry->ipttldec);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "add_pwcw 0x%x ", entry->add_pwcw);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "comp_encaplen 0x%x ", entry->comp_encaplen);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etype2 0x%x ", entry->etype2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl2 0x%x ", entry->ttl2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "s2 0x%x ", entry->s2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp2 0x%x ", entry->exp2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%x ", entry->label2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "encap_vid 0x%x ", entry->encap_vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pricfi 0x%x ", entry->pricfi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etype 0x%x ", entry->etype);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tpid 0x%x ", entry->tpid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pid 0x%x ", entry->pid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac5 0x%x ", entry->dmac5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac4 0x%x ", entry->dmac4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac3 0x%x ", entry->dmac3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac2 0x%x ", entry->dmac2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac1 0x%x ", entry->dmac1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac0 0x%x ", entry->dmac0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vlan 0x%x ", entry->vlan);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "defpricfi 0x%x ", entry->defpricfi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "usetag 0x%x ", entry->usetag);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "l2_reserved 0x%x ", entry->l2_reserved);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dropuntagged 0x%x ", entry->dropuntagged);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "droptagged 0x%x ", entry->droptagged);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smacindex 0x%x ", entry->smacindex);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "stpcheck 0x%x ", entry->stpcheck);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid 0x%x ", entry->vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    


    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl0 0x%x ", entry->ttl0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "s0 0x%x ", entry->s0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp0 0x%x ", entry->exp0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label0 0x%x ", entry->label0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ttl1 0x%x ", entry->ttl1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "s1 0x%x ", entry->s1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "exp1 0x%x ", entry->exp1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%x ", entry->label1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac5 0x%x ", entry->smac5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac4 0x%x ", entry->smac4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac3 0x%x ", entry->smac3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac2 0x%x ", entry->smac2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac1 0x%x ", entry->smac1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac0 0x%x ", entry->smac0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mtu 0x%x ", entry->mtu);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "usevid 0x%x ", entry->usevid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    
    
    
    


            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}

int soc_sbx_g3p1_ete_delete_ext_sim(int unit,  int ietei )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove table ete index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etei 0x%02x ", ietei);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}
 
int soc_sbx_g3p1_ete_get_ext_sim(int unit,  int ietei , soc_sbx_g3p1_ete_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_ete_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table ete index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "etei 0x%02x ", ietei);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "dmacset"))        { entry->dmacset = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmacsetlsb"))        { entry->dmacsetlsb = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dscpremark"))        { entry->dscpremark = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "remark"))        { entry->remark = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mplsttldec"))        { entry->mplsttldec = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "encaplen"))        { entry->encaplen = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "encapmac"))        { entry->encapmac = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "nostrip"))        { entry->nostrip = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "noclass"))        { entry->noclass = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "etepid"))        { entry->etepid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "tunnelenter"))        { entry->tunnelenter = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp0remark"))        { entry->exp0remark = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp1remark"))        { entry->exp1remark = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp2remark"))        { entry->exp2remark = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl0dec"))        { entry->ttl0dec = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl1dec"))        { entry->ttl1dec = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl2dec"))        { entry->ttl2dec = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smacset"))        { entry->smacset = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "nosplitcheck"))        { entry->nosplitcheck = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttlcheck"))        { entry->ttlcheck = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ipttldec"))        { entry->ipttldec = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "add_pwcw"))        { entry->add_pwcw = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "comp_encaplen"))        { entry->comp_encaplen = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "etype2"))        { entry->etype2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl2"))        { entry->ttl2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "s2"))        { entry->s2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp2"))        { entry->exp2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "label2"))        { entry->label2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "encap_vid"))        { entry->encap_vid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pricfi"))        { entry->pricfi = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "etype"))        { entry->etype = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "tpid"))        { entry->tpid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pid"))        { entry->pid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac5"))        { entry->dmac5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac4"))        { entry->dmac4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac3"))        { entry->dmac3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac2"))        { entry->dmac2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac1"))        { entry->dmac1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac0"))        { entry->dmac0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vlan"))        { entry->vlan = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "defpricfi"))        { entry->defpricfi = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "usetag"))        { entry->usetag = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "l2_reserved"))        { entry->l2_reserved = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dropuntagged"))        { entry->dropuntagged = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "droptagged"))        { entry->droptagged = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smacindex"))        { entry->smacindex = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "stpcheck"))        { entry->stpcheck = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vid"))        { entry->vid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl0"))        { entry->ttl0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "s0"))        { entry->s0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp0"))        { entry->exp0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "label0"))        { entry->label0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ttl1"))        { entry->ttl1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "s1"))        { entry->s1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "exp1"))        { entry->exp1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "label1"))        { entry->label1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac5"))        { entry->smac5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac4"))        { entry->smac4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac3"))        { entry->smac3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac2"))        { entry->smac2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac1"))        { entry->smac1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac0"))        { entry->smac0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mtu"))        { entry->mtu = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "usevid"))        { entry->usevid = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_oam_ep_add_ext_sim(int unit,  int ioam_epi , soc_sbx_g3p1_oam_ep_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set table oam_ep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_epi 0x%02x ", ioam_epi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac1 0x%x ", entry->smac1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac0 0x%x ", entry->smac0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac5 0x%x ", entry->dmac5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac4 0x%x ", entry->dmac4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac3 0x%x ", entry->dmac3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac2 0x%x ", entry->dmac2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac1 0x%x ", entry->dmac1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dmac0 0x%x ", entry->dmac0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac5 0x%x ", entry->smac5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac4 0x%x ", entry->smac4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac3 0x%x ", entry->smac3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "smac2 0x%x ", entry->smac2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vid 0x%x ", entry->vid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "num_vlan_tags 0x%x ", entry->num_vlan_tags);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dir 0x%x ", entry->dir);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reqMinEchoRxInterval 0x%x ", entry->reqMinEchoRxInterval);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "localDiscr 0x%x ", entry->localDiscr);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    


    
    
    
    
    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dport 0x%x ", entry->dport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "dqueue 0x%x ", entry->dqueue);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tlv_offset 0x%x ", entry->tlv_offset);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "period 0x%x ", entry->period);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "flags_rsvd 0x%x ", entry->flags_rsvd);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "rdi 0x%x ", entry->rdi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "opcode 0x%x ", entry->opcode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "version 0x%x ", entry->version);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mdlvl 0x%x ", entry->mdlvl);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "mepid 0x%x ", entry->mepid);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "func 0x%x ", entry->func);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "type 0x%x ", entry->type);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "unused 0x%x ", entry->unused);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    


            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}

int soc_sbx_g3p1_oam_ep_delete_ext_sim(int unit,  int ioam_epi )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove table oam_ep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_epi 0x%02x ", ioam_epi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}
 
int soc_sbx_g3p1_oam_ep_get_ext_sim(int unit,  int ioam_epi , soc_sbx_g3p1_oam_ep_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_oam_ep_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table oam_ep index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_epi 0x%02x ", ioam_epi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "smac1"))        { entry->smac1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac0"))        { entry->smac0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac5"))        { entry->dmac5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac4"))        { entry->dmac4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac3"))        { entry->dmac3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac2"))        { entry->dmac2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac1"))        { entry->dmac1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dmac0"))        { entry->dmac0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac5"))        { entry->smac5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac4"))        { entry->smac4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac3"))        { entry->smac3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "smac2"))        { entry->smac2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vid"))        { entry->vid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "num_vlan_tags"))        { entry->num_vlan_tags = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dir"))        { entry->dir = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reqMinEchoRxInterval"))        { entry->reqMinEchoRxInterval = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "localDiscr"))        { entry->localDiscr = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dport"))        { entry->dport = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "dqueue"))        { entry->dqueue = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "tlv_offset"))        { entry->tlv_offset = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "period"))        { entry->period = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "flags_rsvd"))        { entry->flags_rsvd = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "rdi"))        { entry->rdi = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "opcode"))        { entry->opcode = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "version"))        { entry->version = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mdlvl"))        { entry->mdlvl = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "mepid"))        { entry->mepid = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "func"))        { entry->func = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "type"))        { entry->type = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "unused"))        { entry->unused = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_oam_local_add_ext_sim(int unit,  int ioam_locali , soc_sbx_g3p1_oam_local_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set table oam_local index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_locali 0x%02x ", ioam_locali);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w1 0x%x ", entry->maid_w1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w0 0x%x ", entry->maid_w0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w3 0x%x ", entry->maid_w3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w2 0x%x ", entry->maid_w2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w5 0x%x ", entry->maid_w5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w4 0x%x ", entry->maid_w4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "unused_w6 0x%x ", entry->unused_w6);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    


    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w7 0x%x ", entry->maid_w7);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w6 0x%x ", entry->maid_w6);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w9 0x%x ", entry->maid_w9);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w8 0x%x ", entry->maid_w8);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w11 0x%x ", entry->maid_w11);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_w10 0x%x ", entry->maid_w10);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    
    


            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}

int soc_sbx_g3p1_oam_local_delete_ext_sim(int unit,  int ioam_locali )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove table oam_local index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_locali 0x%02x ", ioam_locali);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}
 
int soc_sbx_g3p1_oam_local_get_ext_sim(int unit,  int ioam_locali , soc_sbx_g3p1_oam_local_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_oam_local_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table oam_local index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_locali 0x%02x ", ioam_locali);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "maid_w1"))        { entry->maid_w1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w0"))        { entry->maid_w0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w3"))        { entry->maid_w3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w2"))        { entry->maid_w2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w5"))        { entry->maid_w5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w4"))        { entry->maid_w4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "unused_w6"))        { entry->unused_w6 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w7"))        { entry->maid_w7 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w6"))        { entry->maid_w6 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w9"))        { entry->maid_w9 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w8"))        { entry->maid_w8 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w11"))        { entry->maid_w11 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "maid_w10"))        { entry->maid_w10 = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_oam_peer_add_ext_sim(int unit,  int ioam_peer_idx , soc_sbx_g3p1_oam_peer_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set table oam_peer index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_peer_idx 0x%02x ", ioam_peer_idx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "maid_crc 0x%x ", entry->maid_crc);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pol_id_wdg 0x%x ", entry->pol_id_wdg);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "fwd_to_host 0x%x ", entry->fwd_to_host);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "period 0x%x ", entry->period);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad1 0x%x ", entry->pad1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w2 0x%x ", entry->w2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w3 0x%x ", entry->w3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w4 0x%x ", entry->w4);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w5 0x%x ", entry->w5);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w6 0x%x ", entry->w6);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w7 0x%x ", entry->w7);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "e_w7 0x%x ", entry->e_w7);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "code_w7 0x%x ", entry->code_w7);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_w7 0x%x ", entry->reserved_w7);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w8 0x%x ", entry->w8);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w9 0x%x ", entry->w9);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w10 0x%x ", entry->w10);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w11 0x%x ", entry->w11);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w12 0x%x ", entry->w12);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w13 0x%x ", entry->w13);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w14 0x%x ", entry->w14);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w15 0x%x ", entry->w15);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "e_w15 0x%x ", entry->e_w15);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "code_w15 0x%x ", entry->code_w15);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reserved_w15 0x%x ", entry->reserved_w15);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}

int soc_sbx_g3p1_oam_peer_delete_ext_sim(int unit,  int ioam_peer_idx )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove table oam_peer index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_peer_idx 0x%02x ", ioam_peer_idx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}
 
int soc_sbx_g3p1_oam_peer_get_ext_sim(int unit,  int ioam_peer_idx , soc_sbx_g3p1_oam_peer_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_oam_peer_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table oam_peer index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "oam_peer_idx 0x%02x ", ioam_peer_idx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "maid_crc"))        { entry->maid_crc = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pol_id_wdg"))        { entry->pol_id_wdg = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "fwd_to_host"))        { entry->fwd_to_host = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "period"))        { entry->period = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pad1"))        { entry->pad1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w2"))        { entry->w2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w3"))        { entry->w3 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w4"))        { entry->w4 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w5"))        { entry->w5 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w6"))        { entry->w6 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w7"))        { entry->w7 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "e_w7"))        { entry->e_w7 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "code_w7"))        { entry->code_w7 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reserved_w7"))        { entry->reserved_w7 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w8"))        { entry->w8 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w9"))        { entry->w9 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w10"))        { entry->w10 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w11"))        { entry->w11 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w12"))        { entry->w12 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w13"))        { entry->w13 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w14"))        { entry->w14 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w15"))        { entry->w15 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "e_w15"))        { entry->e_w15 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "code_w15"))        { entry->code_w15 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reserved_w15"))        { entry->reserved_w15 = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_labels3_add_ext_sim(int unit,  int ilabel3 ,  int ilabel2 ,  int ilabel1 ,  int iresv1 ,  int iport , soc_sbx_g3p1_labels3_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup labels3 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label3 0x%02x ", ilabel3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv1 0x%02x ", iresv1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pad 0x%x ", entry->pad);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "opcode 0x%x ", entry->opcode);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "ftidx 0x%x ", entry->ftidx);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vlan 0x%x ", entry->vlan);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "lock 0x%x ", entry->lock);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "keep_sdtag 0x%x ", entry->keep_sdtag);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "pipe 0x%x ", entry->pipe);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "elsp 0x%x ", entry->elsp);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "stpstate 0x%x ", entry->stpstate);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    


    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "vpws 0x%x ", entry->vpws);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "loop 0x%x ", entry->loop);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "cos 0x%x ", entry->cos);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "lpi 0x%x ", entry->lpi);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_labels3_delete_ext_sim(int unit,  int ilabel3 ,  int ilabel2 ,  int ilabel1 ,  int iresv1 ,  int iport )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup labels3 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label3 0x%02x ", ilabel3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv1 0x%02x ", iresv1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_labels3_get_ext_sim(int unit,  int ilabel3 ,  int ilabel2 ,  int ilabel1 ,  int iresv1 ,  int iport , soc_sbx_g3p1_labels3_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_labels3_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup labels3 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label3 0x%02x ", ilabel3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label2 0x%02x ", ilabel2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "label1 0x%02x ", ilabel1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "resv1 0x%02x ", iresv1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "port 0x%02x ", iport);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "pad"))        { entry->pad = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "opcode"))        { entry->opcode = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "ftidx"))        { entry->ftidx = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vlan"))        { entry->vlan = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "lock"))        { entry->lock = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "keep_sdtag"))        { entry->keep_sdtag = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "pipe"))        { entry->pipe = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "elsp"))        { entry->elsp = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "stpstate"))        { entry->stpstate = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "vpws"))        { entry->vpws = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "loop"))        { entry->loop = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "cos"))        { entry->cos = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "lpi"))        { entry->lpi = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_bfd_ld2e_add_ext_sim(int unit,  int ilocalDiscri , soc_sbx_g3p1_bfd_ld2e_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set lookup bfd_ld2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "localDiscri 0x%02x ", ilocalDiscri);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    


    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "bubble_id 0x%x ", entry->bubble_id);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "hit 0x%x ", entry->hit);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "c 0x%x ", entry->c);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "a 0x%x ", entry->a);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "d 0x%x ", entry->d);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "m 0x%x ", entry->m);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "detectMulti 0x%x ", entry->detectMulti);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "length 0x%x ", entry->length);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "desiredMinTxInterval 0x%x ", entry->desiredMinTxInterval);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "reqMinRxInterval 0x%x ", entry->reqMinRxInterval);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Missing status value\n")));
        return SOC_E_PARAM;
    }    
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_bfd_ld2e_delete_ext_sim(int unit,  int ilocalDiscri )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove lookup bfd_ld2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "localDiscri 0x%02x ", ilocalDiscri);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                   (BSL_META_U(unit,
                               "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    return SOC_E_NONE;
}

int soc_sbx_g3p1_bfd_ld2e_get_ext_sim(int unit,  int ilocalDiscri , soc_sbx_g3p1_bfd_ld2e_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_bfd_ld2e_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get lookup bfd_ld2e index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "localDiscri 0x%02x ", ilocalDiscri);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    } 
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "result"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing result token\n")));
        return SOC_E_PARAM;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "bubble_id"))        { entry->bubble_id = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "hit"))        { entry->hit = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "c"))        { entry->c = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "a"))        { entry->a = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "d"))        { entry->d = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "m"))        { entry->m = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "detectMulti"))        { entry->detectMulti = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "length"))        { entry->length = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "desiredMinTxInterval"))        { entry->desiredMinTxInterval = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "reqMinRxInterval"))        { entry->reqMinRxInterval = _shr_ctoi(fieldValue); }    
        

      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}


int soc_sbx_g3p1_sample_dm1_add_ext_sim(int unit,  int iindex_1 ,  int iindex_2 , soc_sbx_g3p1_sample_dm1_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu set table sample_dm1 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_1 0x%02x ", iindex_1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_2 0x%02x ", iindex_2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "result ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 

    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w0 0x%x ", entry->w0);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w1 0x%x ", entry->w1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w2 0x%x ", entry->w2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
    
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "w3 0x%x ", entry->w3);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;
            

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
      LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}

int soc_sbx_g3p1_sample_dm1_delete_ext_sim(int unit,  int iindex_1 ,  int iindex_2 )
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, skipsize;

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu remove table sample_dm1 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_1 0x%02x ", iindex_1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_2 0x%02x ", iindex_2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }
    rv = soc_sbx_caladan3_sim_status_decode(send_buffer, "status", &skipsize);
    if (SOC_FAILURE(rv)) {
        LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim set failed (%d)\n"), rv));
    }

    return rv;
}
 
int soc_sbx_g3p1_sample_dm1_get_ext_sim(int unit,  int iindex_1 ,  int iindex_2 , soc_sbx_g3p1_sample_dm1_t *entry)
{
    int nextPrintPos = 0;
    int bufferSizeRemain = MAX_BUFFER_SIZE;
    int numCharPrinted;
    int rv, status;    
    char *fieldName;
    char *fieldValue;
    char *token;
    char *delimiters = " \t";
    char *tokstr=NULL;

    sal_memset(entry, 0, sizeof(soc_sbx_g3p1_sample_dm1_t));

    numCharPrinted = sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "tmu get table sample_dm1 index ");
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;   

       
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_1 0x%02x ", iindex_1);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM; 
    numCharPrinted =  sal_snprintf(&send_buffer[nextPrintPos], bufferSizeRemain, "index_2 0x%02x ", iindex_2);
    nextPrintPos += numCharPrinted;
    bufferSizeRemain -= numCharPrinted;
    if (bufferSizeRemain == 0) return SOC_E_PARAM;     

    rv = soc_sbx_caladan3_sim_sendrcv(unit, send_buffer, &nextPrintPos);
    if (SOC_FAILURE(rv)) {
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "sim sendrcv failed (%d)\n"), rv));
        return rv;
    }

    token = sal_strtok_r(send_buffer, delimiters, &tokstr);
    if ((token == NULL) || (sal_strcasecmp(token, "status"))){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Recv format unrecognized: %s\n"), send_buffer));
        return SOC_E_PARAM;
    }
    token = sal_strtok_r(NULL, delimiters, &tokstr);
    if (token == NULL){
       LOG_ERROR(BSL_LS_SOC_COMMON,
                  (BSL_META_U(unit,
                              "Missing status value\n")));
        return SOC_E_PARAM;
    }
    status = _shr_ctoi(token);
    if (status != 0) {
        return SOC_E_NOT_FOUND;
    }

    fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
    fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    while ((fieldName != NULL) && (fieldValue != NULL)) {       

        
        /* _shr_ctoi() is same as atoi() but available in all toochains */
            if (!sal_strcasecmp(fieldName, "w0"))        { entry->w0 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w1"))        { entry->w1 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w2"))        { entry->w2 = _shr_ctoi(fieldValue); }
            if (!sal_strcasecmp(fieldName, "w3"))        { entry->w3 = _shr_ctoi(fieldValue); }    
        
      fieldName = sal_strtok_r(NULL, delimiters, &tokstr);
      fieldValue = sal_strtok_r(NULL, delimiters, &tokstr);
    }

    return SOC_E_NONE;
}



#endif
