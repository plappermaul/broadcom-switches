BCM.0> c td4x9_hsdk_mirror_stat.c                                                                
execute(): Start                                                                                 
config show; attach; version                                                                     
~~ #1) test_setup(): ** start **                                                                
ingress_port_setup port: 1 setup                                                                 
egress_port_setup port: 2 setup                                                                  
mtp_port_setup port: 3 setup                                                                     
Block traffic ingress from MTP to avoid continuous traffic. This is for test purpose             
~~ #1) test_setup(): ** end **                                                                  
~~ #2) configure_port_mirror(): ** start **                                                     
~~ #2) configure_port_mirror(): ** end **                                                       
~~ #3) verify(): ** start **                                                                    
vlan 1  ports cpu,cd,ce,xe (0x000000000000000000000000000000000000000000000000000000000000000000000000000043fff03fff43fff07fff), untagged cd,ce,xe (0x000000000000000000000000000000000000000000000000000000000000000000000000000043fff03fff43fff07ffe)                                                                                                           
vlan 21 ports ce0-ce1 (0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006), untagged none (0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)                                                                                                                    


Sending packet to ingress_port:1, broadcast to egress_port 2, expected to be ingress and egress mirrored to port 3
Packet from data=<>, length=98                                                                                    
[bcmPWN.0]                                                                                                        
[bcmPWN.0]Packet[1]: data[0000]: {00000000aaaa} {00000000bbbb} 8100 0001                                          
[bcmPWN.0]Packet[1]: data[0010]: 0800 4500 0050 0001 0000 4011 7497 0101                                          
[bcmPWN.0]Packet[1]: data[0020]: 0101 0202 0202 0035 0035 003c 32f6 7465                                          
[bcmPWN.0]Packet[1]: data[0030]: 7374 7465 7374 7465 7374 7465 7374 7465                                          
[bcmPWN.0]Packet[1]: data[0040]: 7374 7465 7374 7465 7374 7465 7374 7465                                          
[bcmPWN.0]Packet[1]: data[0050]: 7374 7465 7374 7465 7374 7465 7374 7465                                          
[bcmPWN.0]Packet[1]: data[0060]: 7374                                                                             
[bcmPWN.0]                                                                                                        
[bcmPWN.0]Packet[1]:                                                                                              
Packet[1]:   Ethernet: dst<00:00:00:00:aa:aa> src<00:00:00:00:bb:bb> Tagged Packet ProtID<0x8100> Ctrl<0x0001> Internet Protocol (IP)
Packet[1]:   IP: V(4) src<1.1.1.1> dst<2.2.2.2> hl<5> service-type<0> tl<80> id<1> frg-off<0> ttl<64> > chk-sum<0x7497>              


======== Verify Mirror Result========
Ingress Mirror counter get: 1        
Egress Mirror counter get:  1        
Mirrored out : 2 packets from MTP: 3 
Packet verify OK.                    

MC_PERQ_PKT(0).cpu0                   :                     1                  +1
MC_PERQ_BYTE(0).cpu0                  :                   174                +174
XLMIB_TBYT.ce0                        :                   102                +102
XLMIB_RBYT.ce0                        :                   102                +102
XLMIB_TPOK.ce0                        :                     1                  +1
XLMIB_RPOK.ce0                        :                     1                  +1
XLMIB_TVLN.ce0                        :                     1                  +1
XLMIB_RVLN.ce0                        :                     1                  +1
XLMIB_TUCA.ce0                        :                     1                  +1
XLMIB_RUCA.ce0                        :                     1                  +1
XLMIB_TPKT.ce0                        :                     1                  +1
XLMIB_RPKT.ce0                        :                     1                  +1
XLMIB_T127.ce0                        :                     1                  +1
XLMIB_R127.ce0                        :                     1                  +1
XLMIB_RPRM.ce0                        :                     1                  +1
XLMIB_TBYT.ce1                        :                    98                 +98
XLMIB_RBYT.ce1                        :                    98                 +98
XLMIB_TPOK.ce1                        :                     1                  +1
XLMIB_RPOK.ce1                        :                     1                  +1
XLMIB_TUCA.ce1                        :                     1                  +1
XLMIB_RUCA.ce1                        :                     1                  +1
XLMIB_TPKT.ce1                        :                     1                  +1
XLMIB_RPKT.ce1                        :                     1                  +1
XLMIB_T127.ce1                        :                     1                  +1
XLMIB_R127.ce1                        :                     1                  +1
XLMIB_RPRM.ce1                        :                     1                  +1
MC_PERQ_PKT(0).ce1                    :                     1                  +1
MC_PERQ_BYTE(0).ce1                   :                    98                 +98
XLMIB_TBYT.ce2                        :                   200                +200
XLMIB_RBYT.ce2                        :                   200                +200
XLMIB_TPOK.ce2                        :                     2                  +2
XLMIB_RPOK.ce2                        :                     2                  +2
XLMIB_TVLN.ce2                        :                     1                  +1
XLMIB_RVLN.ce2                        :                     1                  +1
XLMIB_TUCA.ce2                        :                     2                  +2
XLMIB_RUCA.ce2                        :                     2                  +2
XLMIB_TPKT.ce2                        :                     2                  +2
XLMIB_RPKT.ce2                        :                     2                  +2
XLMIB_T127.ce2                        :                     2                  +2
XLMIB_R127.ce2                        :                     2                  +2
XLMIB_RPRM.ce2                        :                     2                  +2
MC_PERQ_PKT(0).ce2                    :                     2                  +2
MC_PERQ_BYTE(0).ce2                   :                   200                +200
~~ #3) verify(): ** end **
bcm_error_t $$ = BCM_E_NONE (0)
execute(): End
BCM.0>

